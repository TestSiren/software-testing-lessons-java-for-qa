package ru.stqa.addressbook.tests;
// Generated by Selenium IDE
import org.junit.jupiter.api.Test;
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.MethodSource;
import ru.stqa.addressbook.manager.GroupHelper;
import ru.stqa.addressbook.models.GroupData;
import java.util.ArrayList;
import java.util.List;


import static org.junit.jupiter.api.Assertions.assertTrue;

public class GroupCreationTests extends TestBase {

  public static List<GroupData> groupProvider(){
    var result = new ArrayList<GroupData>(List.of(
            new GroupData("group name", "", ""),
            new GroupData("group name'", "", ""))
    );
    for (int i = 0; i<5; i++){
      result.add(new GroupData(randomString(i*10), randomString(i*10), randomString(i*10)));
    }
    return result;
  }


  @ParameterizedTest
  @MethodSource("groupProvider")
  public void creationMultipleGroups(GroupData group){
    GroupHelper groups = app.groups();

    int initialSize = groups.getGroupsCount();

    groups.createGroup(group);

    int finalSize = groups.getGroupsCount();

    assertTrue(initialSize < finalSize);

  }
}
